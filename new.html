<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <style>
        /* 全屏样式 */
        html, body, .container {
            width: 100%;
            height: 100%;
            margin: 0;
            overflow: hidden;
        }

        /* 图片通用样式 */
        .rps-image {
            position: absolute;
            width: 100%;
            height: 100%;
            object-fit: contain;
            opacity: 0;
        }

        /* 动画定义 */
        @keyframes cycle {
            0% { opacity: 0; }
            15% { opacity: 1; }   /* 石头 */
            33% { opacity: 0; }
            48% { opacity: 1; }   /* 剪刀 */
            66% { opacity: 0; }
            81% { opacity: 1; }   /* 布 */
            100% { opacity: 0; }
        }

        .animating {
            animation: cycle 0.6s infinite;
        }
    </style>
</head>
<body>
    <div class="container">
        <img id="rock" src="rock.png" class="rps-image">
        <img id="scissors" src="scissors.png" class="rps-image">
        <img id="paper" src="paper.png" class="rps-image">
        <button id="startBtn" style="position:absolute; z-index:10">开始游戏</button>
    </div>

    <script>
        const elements = {
            rock: document.getElementById('rock'),
            scissors: document.getElementById('scissors'),
            paper: document.getElementById('paper'),
            startBtn: document.getElementById('startBtn')
        }

        let isAnimating = false;

        // 启动动画
        function startAnimation() {
            if(isAnimating) return;
            
            isAnimating = true;
            // 重置所有元素状态
            Object.values(elements).forEach(el => {
                if(el !== elements.startBtn) {
                    el.classList.add('animating');
                    el.style.opacity = 0;
                }
            });

            // 随机停止时间（1-3秒）
            const stopTime = 1000 + Math.random() * 2000;
            
            setTimeout(() => {
                const resultIndex = Math.floor(Math.random() * 3);
                const result = ['rock', 'scissors', 'paper'][resultIndex];
                
                // 停止所有动画
                Object.values(elements).forEach(el => {
                    if(el !== elements.startBtn) {
                        el.classList.remove('animating');
                        el.style.opacity = el.id === result ? 1 : 0;
                    }
                });
                
                isAnimating = false;
                //alert(`结果：${result}`);
            }, stopTime);
        }

        elements.startBtn.addEventListener('click', startAnimation);
    </script>
</body>
</html>